function init(){function t(){var t=i.indexOf(a);t>0&&_.times(t,function(t){i[t].setComplete()}),a.open()}var e=(_.map($$("[data-product-features]"),function(t){return new ProductFeatures(t)}),_.map($$("[data-customize-link]"),function(t){return new AccordionCustomizeLink(t)})),i=_.map($$("[data-section]"),function(t,n){var a=t.get("data-section"),o=new window["Accordion"+a+"Section"](t);return o.addEvents({change:function(t){_.each(e,function(e){e.setData(o.name,t.value)});var n,a,s,r;"bundle"===o.name&&(n=_.findWhere(i,{name:"timing"}),a=n.getValue(),s=a.data.value.toInt()/30,r=t.data.cost.toFloat().toFixed(2),_.each($$('[data-name="shipment_cost"]'),function(t){t.set("text","$"+r)}),_.each($$('[data-name="month_cost"]'),function(t){t.set("text","$"+(r/s).toFixed(2))}))},complete:function(t){var a=_.where(i,{type:"review"});_.each(a,function(e){e.setData(o.name,t.data)}),_.each(e,function(e){e.setData(o.name,t.value)});var s=i[n+1];s&&(o.close(),s.open())},open:function(){_.each(i,function(t,e){e>n&&t.unsetComplete(),e===n+1?t.setNext():e>n+1&&t.unsetNext(),t!==o&&t.close()})},close:function(){},next_open:function(){var t=i[n-1];t&&t.setComplete()}}),"bundle"===o.name&&(o.options.beforeOpen=function(t){var e,n,a,s,r=_.findWhere(i,{name:"timing"});r&&(e=r.getValue(),n=e.data.value.toInt()/30,a=o.getValue(),s=a.data.cost.toFloat().toFixed(2),_.each($$('[data-name="interval"]'),function(t){t.set("text",n)}),_.each($$('[data-name="shipment_cost"]'),function(t){t.set("text","$"+s)}),_.each($$('[data-name="month_cost"]'),function(t){t.set("text","$"+(s/n).toFixed(2))}),_.each(this.choices,function(t){var e,i=o.root_el.getElement('[data-value="'+t.data.value+'"] .bundle-cost');t.data.cost&&(e=t.data.cost.toInt()/n,i.set("text",e.toFloat().toFixed(2)))})),t()}.bind(o)),o}),n=_.map($$("[data-modal]"),function(t){return new MoreInfoModal(t)});_.each($$("[data-action]"),function(t){var e=t.get("data-action"),i=t.get("data-name"),a=_.findWhere(n,{type:e});t.addEvent("click",function(t){a.setup(i).show()})});var a,o=new URI(document.location).get("data");a=o.start?_.findWhere(i,{name:o.start}):i[0],a.complete?t():a.addEvent("load",t);var s=new URI;query_string=s.parsed.query,query_string&&"success"===query_string.parseQueryString().survey_response&&new Flash(I18n.t("auto_refill_build.survey.success"),"notice")}var AccordionSection=new Class({Implements:[Events,Options],options:{next_button_selector:".content button",closed_padding:20,complete_hover_height:55,beforeOpen:function(t){t()},beforeClose:function(t){t()}},initialize:function(t,e){this.setOptions(e),this.root_el=t,this.name=this.root_el.get("data-name"),this.start="true"===this.root_el.get("data-start"),this.next_button=this._setupNextButton(this.options.next_button_selector),this.options.closed_height=this.root_el.getElement(".header").getSize().y,this.overlay_els=this.root_el.getElements(".overlay"),async.each(this.root_el.getElements("img"),function(t,e){t.set("src",t.get("src")),t.complete?e():(t.addEvent("load",function(){t.removeEvents("load").removeEvents("error"),e()}),t.addEvent("error",function(){t.removeEvents("error").removeEvents("load"),e()}))},function(){this.complete=!0,this.fireEvent("load")}.bind(this))},_setupNextButton:function(t){var e=this.root_el.getElement(t),i=new Button(e);return i.addEvent("click",function(t){t.stopPropagation(),this.isValid()&&(Harrys.analytics.trackClick({eventCategory:"Subscription",eventLabel:this.name+" Section Complete"}),this.setComplete())}.bind(this)),i},isValid:function(){return!0},isComplete:function(){return this.root_el.hasClass("complete")},setComplete:function(){return this.root_el.addClass("complete").addEvents({click:function(){this.unsetComplete().open()}.bind(this),mouseover:this.sneakPeek.bind(this),mouseout:this.close.bind(this)}),this.fireEvent("complete",this.getValue()),this},unsetComplete:function(){return this.root_el.removeClass("complete").removeEvents(),this.fireEvent("uncomplete"),this},setNext:function(){this.root_el.addClass("next").addEvent("click",function(){this.fireEvent("next_open")}.bind(this))},unsetNext:function(){this.root_el.removeClass("next").removeEvents()},measureHeight:function(){var t=2*this.options.closed_padding;return this.root_el.measure(function(){var e=this.getHeight();this.setStyles({transition:"none",height:"auto"});var i=this.getSize().y-t;return this.setStyles({transition:"",height:e-t}),i})},scrollToRoot:function(){this.win_scroll=this.win_scroll||new Fx.Scroll(window,{offset:{x:0,y:-50},link:"chain",wheelStops:!0}),this.win_scroll.toElement(this.root_el)},scrollToTop:function(){this.win_scroll=this.win_scroll||new Fx.Scroll(window,{offset:{x:0,y:-50},link:"chain",wheelStops:!0}),this.win_scroll.toTop()},open:function(){return this.options.beforeOpen(function(){this.root_el.removeClass("closed").setStyles({height:this.measureHeight()}),this.unsetNext(),Harrys.IS_MOBILE&&setTimeout(this.scrollToTop.bind(this),500),this.fireEvent("open"),_.each(this.overlay_els,function(t){t.fade("in")})}.bind(this)),this},close:function(){return this.options.beforeClose(function(){this.root_el.addClass("closed").setStyles({height:this.options.closed_height}),_.each(this.overlay_els,function(t){t.fade("out")}),this.fireEvent("close")}.bind(this)),this},sneakPeek:function(){Browser.ie8||Browser.ie9||this.root_el.setStyle("height",this.options.complete_hover_height)}}),AccordionInputSection=new Class({Extends:AccordionSection,options:{choice_el_selector:".options .option",default_choice:null},initialize:function(t,e){this.type="input",this.setOptions(e),this.parent(t,this.options),this.swipeable="true"===this.root_el.get("data-swipeable"),this.swipeable&&(this.frame_el=this.root_el.getElement(".swipe-frame"),this.options_el=this.root_el.getElement(".options"),this.options_width=this.options_el.getSize().x,this.hammer=new Hammer(this.options_el,{velocity:.01}),this.hammer.on("swipe",function(t){var e=this.getActiveChoice(),i=this.choices.indexOf(e),n=i+(2===t.direction?1:-1);if(0>n||n>this.choices.length-1)return!1;var a=this.choices[n];this.changeChoice(a)}.bind(this))),this.choices=this._setupChoices(this.options.choice_el_selector),this.dot_els=this.root_el.getElements(".dot[data-value]"),this.detail_els=this.root_el.getElements(".detail[data-value]"),this.complete_headline=this.root_el.getElement(".complete-headline"),this.incomplete_headline=this.root_el.getElement(".incomplete-headline");var i=new URI(document.location).get("data")||{},n=this.options.default_choice||i[this.name]||this.root_el.get("data-default-value");n&&this.changeChoiceByValue(n),this.addEvents({complete:this.updateHeadline.bind(this),uncomplete:this.updateHeadline.bind(this),open:function(){this.swipeable&&this.centerActiveChoice(this.getActiveChoice())}.bind(this)})},_setupChoices:function(t){var e=_.map(this.root_el.getElements(t),function(t){var e={el:t,value:t.get("data-value"),active:!1};return e.data=_.findWhere(ACCORDION_DATA[this.name],{value:e.value}),e.el.getElement(".action").addEvent("click",function(t){this.changeChoice(e)}.bind(this)),e}.bind(this));return e},updateHeadline:function(){if(this.isComplete()){var t=this.getActiveChoice().data;_.each(t,function(t,e){var i=this.complete_headline.getElement("[data-name='"+e+"']");i&&i.set("text",t.toString().replace("<br>",""))}.bind(this)),this.complete_headline.addClass("active"),this.incomplete_headline.removeClass("active")}else this.incomplete_headline.addClass("active"),this.complete_headline.removeClass("active")},getActiveChoice:function(){return _.findWhere(this.choices,{active:!0})},getChoiceByValue:function(t){return _.findWhere(this.choices,{value:t})},getDotElByValue:function(t){return _.find(this.dot_els,function(e){return e.get("data-value")===t})},getDetailElsByValue:function(t){return _.filter(this.detail_els,function(e){return e.get("data-value")===t})},getValue:function(){var t=this.getActiveChoice();return t?t:void 0},changeChoice:function(t){_.each(this.choices,function(t){t.el.removeClass("active"),t.active=!1}),t.el.addClass("active"),t.active=!0,this.swipeable&&this.centerActiveChoice(t);var e=this.getDotElByValue(t.value);e&&(_.each(this.dot_els,function(t){t.removeClass("active")}),e.addClass("active"));var i=this.getDetailElsByValue(t.value);return i&&(_.each(this.detail_els,function(t){t.removeClass("active")}),_.each(i,function(t){t.addClass("active")})),this.fireEvent("change",t),this},changeChoiceByValue:function(t){var e=this.getChoiceByValue(t);return this.changeChoice(e),this},centerActiveChoice:function(t){var e=t.el.getSize().x,i=t.el.getPosition(this.frame_el).x,n=this.options_width/2-e/2,a=n-i;this.frame_el.setStyle("left",a)},isValid:function(){return!!this.getValue()}}),AccordionReviewSection=new Class({Extends:AccordionSection,options:{tbody_selector:".content .table .tbody",today_total_selector:".today .total",recurring_total_selector:".recurring .total",interval_selector:".recurring .interval",saving_selector:".today .saving",save_amount_selector:".today .save-amount",new_saving_selector:".saving",new_save_amount_selector:".saving .save-amount",guaranteed_blurb_mobile:".guaranteed-blurb"},data:{},VALID_DATA_KEYS:["timing","bundle","handle"],desktopTableRowTemplate:_.template('<tr>         <td class="image">             <img src="<%= image %>">         </td>         <td class="item">             <p class="name">                 <%= name %>             </p>             <p class="more-info">                 <% _.each(more_info, function (e) { %>                     <%= e %><br>                 <% }); %>             </p>         </td>         <td class="frequency">             <%= frequency %>         </td>         <td class="month-price">             <%= month_price %>         </td>         <td class="ship-price">             <%= ship_price %>         </td>     </tr>'),mobileTableRowTemplate:_.template('<div class="item">         <div class="grid image-info">             <div class="col-1-4 image">                 <img src="<%= image %>">             </div>             <div class="col-3-4 text">                 <p class="name"><%= name %></p>                 <p class="more-info">                     <% _.each(more_info, function (e) { %>                         <%= e %><br>                     <% }); %>                 </p>             </div>         </div>         <div class="grid">             <p class="col-1-2 label">Frequency</p>             <p class="col-1-2 value"><%= frequency %></p>         </div>         <div class="grid">             <p class="col-1-2 label">Price / Month</p>             <p class="col-1-2 value"><%= month_price %></p>         </div>         <div class="grid">             <p class="col-1-2 label">Price / Shipment</p>             <p class="col-1-2 value"><%= ship_price %></p>         </div>     </div>'),initialize:function(t,e){this.type="review",this.options.beforeOpen=function(t){this.updateTable(this.cleanDataForTemplate(this.data)),async.each(this.root_el.getElements("img"),function(t,e){t.complete?e():(t.addEvent("load",function(){t.removeEvents("load"),e()}),t.addEvent("error",function(){t.removeEvents("error"),e()}))},t)}.bind(this),this.options.beforeClose=function(t){this.new_review_section&&this.new_guaranteed_blurb_el&&this.new_guaranteed_blurb_el.hide(),t()}.bind(this),this.setOptions(e),this.parent(t,this.options),this.tbody_el=this.root_el.getElement(this.options.tbody_selector),this.today_total_el=this.root_el.getElement(this.options.today_total_selector),this.recurring_total_el=this.root_el.getElement(this.options.recurring_total_selector)||$$(this.options.recurring_total_selector),this.interval_el=this.root_el.getElement(this.options.interval_selector)||$$(this.options.interval_selector),this.saving_el=this.root_el.getElement(this.options.saving_selector),this.save_amount_el=this.root_el.getElement(this.options.save_amount_selector),this.new_saving_el=this.root_el.getElement(this.options.new_saving_selector),this.new_save_amount_el=this.root_el.getElement(this.options.new_save_amount_selector),this.new_guaranteed_blurb_el=$$(this.options.guaranteed_blurb_mobile),this.new_review_section=!this.saving_el},setData:function(t,e){this.data[t]=e},updateTable:function(t){this.tbody_el.empty(),_.each(t.line_items,function(t){var e=Harrys.IS_MOBILE?this.mobileTableRowTemplate(t):this.desktopTableRowTemplate(t),i=Elements.from(e)[0];this.tbody_el.adopt(i)}.bind(this)),this.today_total_el.set("text",this.new_review_section?"$"+t.month_total.toFloat().toFixed(2):"$"+t.month_total),this.recurring_total_el.set("text","$"+t.month_total),this.interval_el.set("text",t.interval);var e=this.saving_el||this.new_saving_el;0===t.saving?e.hide():e.show(),this.new_review_section?(this.new_guaranteed_blurb_el&&this.new_guaranteed_blurb_el.show(),0===t.bundle_saving?this.new_save_amount_el.getParent().hide():this.new_save_amount_el.getParent().show(),this.new_save_amount_el.set("text","$"+t.bundle_saving.toFloat().toFixed(2))):this.save_amount_el.set("text","$"+t.saving)},cleanDataForTemplate:function(t){var e=this.getLineItems(t),i={interval:this.getInterval(t),line_items:e,month_total:this.getMonthTotal(e),saving:this.getSavingAmount(e),bundle_saving:this.getBundleSavingAmount(e)};return i},getFrequency:function(t){var e;if(t.timing&&(e=t.timing.interval),t.custom&&(e=t.custom.interval/30),e){var i="Every "+e+" Month";return 1!==e&&(i+="s"),i}},getMonthPrice:function(t){var e=this.getCost(t);return e?"$"+e.toFloat().toFixed(2):void 0},getShipPrice:function(t){return t.bundle?"$"+t.bundle.cost.toFloat().toFixed(2):void 0},getCost:function(t){return t.bundle&&t.timing?t.bundle.cost/t.timing.interval:void 0},getMonthTotal:function(t){return _.reduce(t,function(t,e){return t+=e.price*e.quantity},0)},getInterval:function(t){return t.timing?t.timing.interval:t.custom?t.custom.interval/30:void 0},getSavingAmount:function(t){var e=this.getMonthTotal(t),i=_.reduce(t,function(t,e){var i=e.non_bundle_price||e.price;return t+=i*e.quantity},0);return i-e},getBundleSavingAmount:function(t){var e=this.getMonthTotal(t),i=_.reduce(t,function(t,e){if("Once"!==e.frequency){var i=e.non_bundle_price||e.price;return t+=i*e.quantity}return t},0);return i-e},getLineItems:function(t){var e=[];return t.handle&&e.push({image:t.handle.image,name:"Truman Razor Handle",more_info:[t.handle.value],price:0,non_bundle_price:10,frequency:"Once",month_price:this.new_review_section?"-":"Free",ship_price:"Free",quantity:1}),t["truman-set"]&&e.push({image:t["truman-set"].image,name:"Your Trial",more_info:t["truman-set"].value,price:0,non_bundle_price:15,frequency:"Once",month_price:"Free",ship_price:3,quantity:1}),t.bundle&&e.push({image:t.bundle.image,name:t.bundle.title,more_info:t.bundle.includes,price:t.bundle.cost,non_bundle_price:t.bundle.non_bundle_cost||t.bundle.cost,frequency:this.getFrequency(t),month_price:this.getMonthPrice(t),ship_price:this.getShipPrice(t),quantity:1}),t.custom&&(e=_.reduce(t.custom,function(e,i,n){if(0===i)return e;var a="make"+n.capitalize()+"LineItem",o=this[a]&&this[a](i);return o&&(o.frequency=this.getFrequency(t),o.month_price=o.ship_price/(t.custom.interval/30),o.ship_price="$"+o.ship_price.toFloat().toFixed(2),o.month_price="$"+o.month_price.toFloat().toFixed(2),e.push(o)),e}.bind(this),e)),e},makeBladesLineItem:function(t){var e=Harrys.productsManager.findByPackSize(t);return{image:e.checkout_image,name:e.name,more_info:[e.pack_size+" Pack"],price:e.price,frequency:null,month_price:null,ship_price:e.price,quantity:1}},makeCreamLineItem:function(t){var e=Harrys.productsManager.find({name:"Shave Cream",tube_size:"Medium - 3.4oz"}),i=e.price*t;return{image:e.checkout_image,name:e.name,more_info:[e.tube_size],price:e.price,frequency:null,month_price:null,ship_price:i,quantity:t}},makeGelLineItem:function(t){var e=Harrys.productsManager.find({name:"Foaming Shave Gel",tube_size:"Medium - 4oz"}),i=e.price*t;return{image:e.checkout_image,name:e.name,more_info:[e.tube_size],price:e.price,frequency:null,month_price:null,ship_price:i,quantity:t}},makeAftershaveLineItem:function(t){var e=Harrys.productsManager.find({name:"After Shave Moisturizer",tube_size:"Regular - 1.7oz"}),i=e.price*t;return{image:e.checkout_image,name:e.name,more_info:[e.tube_size],price:e.price,frequency:null,month_price:null,ship_price:i,quantity:t}},setComplete:function(){this.next_button.disable(),Harrys.cart.clear(),this.data.custom&&this.addCustomItemsToCart(this.data.custom),this.data.timing&&this.data.bundle&&this.addBundleItemsToCart(this.data),this.data.handle&&Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.findByUid(this.data.handle.uid).id,quantity:1}),{no_show_mini_cart:!0}),this.data["truman-set"]&&(Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.findById(this.data["truman-set"].uid.toInt()).id,quantity:1}),{no_show_mini_cart:!0}),Harrys.cart.addItem(new CartItem({id:Harrys.TRIAL_SUBSCRIPTION_PRODUCT_ID,quantity:1,customizations:{interval:30*this.getInterval(this.data),first_send_date:moment().add(Harrys.DAYS_UNTIL_NEXT_SEND.toInt(),"days").format("YYYY-MM-DD")}}),{no_show_mini_cart:!0})),window.location="/checkout"},addCustomItemsToCart:function(t){console.log(t);var e={no_show_mini_cart:!0};t.blades>0&&Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.findByPackSize(t.blades).id,quantity:1,customizations:{interval:t.interval}}),e),t.cream>0&&Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.find({name:"Shave Cream",tube_size:"Medium - 3.4oz"}).id,quantity:t.cream,customizations:{interval:t.interval}}),e),t.gel>0&&Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.find({name:"Foaming Shave Gel",tube_size:"Medium - 4oz"}).id,quantity:t.gel,customizations:{interval:t.interval}}),e),t.aftershave>0&&Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.find({name:"After Shave Moisturizer",tube_size:"Regular - 1.7oz"}).id,quantity:t.aftershave,customizations:{interval:t.interval}}),e)},addBundleItemsToCart:function(t){var e={no_show_mini_cart:!0},i=30*this.getInterval(this.data);Harrys.cart.addItem(new CartItem({id:Harrys.productsManager.findByUid(t.bundle.uid).id,quantity:1,customizations:{interval:i}}),e)}}),AccordionCustomSection=new Class({Extends:AccordionSection,options:{},input_names:{blades:{clean:function(t){return t+" blade"}},cream:{clean:function(t){return t+" shave cream"}},gel:{clean:function(t){return t+" foaming gel"}},aftershave:{clean:function(t){return t+" after shave"}},interval:{clean:function(t){return t/=30,t+" month"}}},initialize:function(t,e){this.type="custom",this.setOptions(e),this.parent(t,this.options),this.complete_headline=this.root_el.getElement(".complete-headline"),this.incomplete_headline=this.root_el.getElement(".incomplete-headline");var i=new URI(document.location).get("data")||{};_.each(this.input_names,function(t,e){i[e]&&this.setInputByName(e,i[e])}.bind(this)),this.addEvents({complete:this.updateHeadline.bind(this),uncomplete:this.updateHeadline.bind(this)})},updateHeadline:function(){if(this.isComplete()){var t=this.getValue().data;_.each(t,function(t,e){var i=this.cleanCopyForHeadline(e,t),n=this.complete_headline.getElement("[data-name='"+e+"']");n&&n.set("text",i)}.bind(this)),this.complete_headline.addClass("active"),this.incomplete_headline.removeClass("active")}else this.incomplete_headline.addClass("active"),this.complete_headline.removeClass("active")},cleanCopyForHeadline:function(t,e){var i,n=this.input_names[t].clean;return i="function"===typeOf(n)?n(e):e+" "+t,1!==e&&(i+="s"),i},getValue:function(){return{name:this.name,data:_.reduce(this.root_el.getElements("select"),function(t,e){var i=e.get("name"),n=e.get("value").toInt();return t[i]=n,t},{})}},setInputByName:function(t,e){return this.root_el.getElement('select[name="'+t+'"]').set("value",e),this},isValid:function(){return!!this.getValue()}}),Modal=new Class({Implements:Events,initialize:function(t){this.rootEl=t;var e=this.rootEl.getElement(".close");e&&e.addEvent("click",function(){this.hide()}.bind(this)),this.rootEl.addEvent("click",function(t){t.target===this.rootEl&&this.hide()}.bind(this))},show:function(){Harrys.IS_MOBILE?this.rootEl.addClass("active"):this.rootEl.setStyle("display","")},hide:function(){Harrys.IS_MOBILE?this.rootEl.removeClass("active"):this.rootEl.setStyle("display","none")}}),MoreInfoModal=new Class({Extends:Modal,initialize:function(t){this.parent(t),this.type=this.rootEl.get("data-modal"),window.addEvent("keyup",function(t){"esc"===t.key&&this.hide()}.bind(this))},setup:function(t){return this}}),AccordionCustomizeLink=new Class({section_conversion:{timing:function(t){return{interval:t}},bundle:function(t){var e=t.split("-");return{blades:_.contains(e,"blades")?8:0,cream:_.contains(e,"cream")?2:0,gel:_.contains(e,"gel")?2:0,aftershave:_.contains(e,"aftershave")?1:0}},handle:function(t){return{handle:t}}},initialize:function(t){this.root_el=t,this.uri=new URI(this.root_el.get("href"))},setData:function(t,e){var i=this.section_conversion[t],n=i(e);return _.each(n,function(t,e){this.uri.setData(e,t)}.bind(this)),this.root_el.set("href",this.uri),this}}),ProductFeatures=new Class({Implements:[Events,Options],options:{action_selector:"[data-product-action]",feature_list_selector:"[data-product-feature-list]",image_selector:"[data-product-image]",dot_selector:"[data-product-dot]"},initialize:function(t,e){this.setOptions(e),this.root_el=t,this.action_els=this.root_el.getElements(this.options.action_selector),this.feature_list_els=this.root_el.getElements(this.options.feature_list_selector),this.image_els=this.root_el.getElements(this.options.image_selector),this.dot_els=this.root_el.getElements(this.options.dot_selector),_.each(this.action_els,function(t){var e=t.get("data-product-action");t.addEvent("mouseover",function(){this.changeActiveProduct(e)}.bind(this))}.bind(this)),this.dot_els.length&&(this.hammer=new Hammer(this.root_el,{velocity:.01}),this.hammer.on("swipe",function(t){var e=this.getActiveDotEl(),i=this.dot_els.indexOf(e),n=i+(2===t.direction?1:-1);if(0>n||n>this.dot_els.length-1)return!1;var a=this.dot_els[n].get("data-product-dot");this.changeActiveProduct(a)}.bind(this)),this.root_el.addEvent("click",function(){var t=this.getActiveDotEl(),e=this.dot_els.indexOf(t),i=e+1;i>this.dot_els.length-1&&(i=0);var n=this.dot_els[i].get("data-product-dot");this.changeActiveProduct(n)}.bind(this)))},changeActiveProduct:function(t){var e=this.getFeatureListElByName(t),i=this.getImageElByName(t),n=this.getActionElByName(t),a=this.getDotElByName(t);this.feature_list_els.removeClass("active"),this.image_els.removeClass("active"),this.action_els.removeClass("active"),this.dot_els.removeClass("active"),e&&e.addClass("active"),i&&i.addClass("active"),n&&n.addClass("active"),a&&a.addClass("active")},getFeatureListElByName:function(t){return _.find(this.feature_list_els,function(e){return t===e.get("data-product-feature-list")}.bind(this))},getImageElByName:function(t){return _.find(this.image_els,function(e){return t===e.get("data-product-image")}.bind(this))},getActionElByName:function(t){return _.find(this.action_els,function(e){return t===e.get("data-product-action")}.bind(this))},getDotElByName:function(t){return _.find(this.dot_els,function(e){return t===e.get("data-product-dot")}.bind(this))},getActiveDotEl:function(){return _.find(this.dot_els,function(t){return t.hasClass("active")})},getActiveProductName:function(){return this.getActiveDotEl().get("data-product-dot")}});window.addEvent("domready",init);var VALID_SECTION_TYPES=["Input","Review","Custom"];